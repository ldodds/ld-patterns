<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Assertion Query</title><link rel="stylesheet" type="text/css" href="../css/style.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Linked Data Patterns" /><link rel="up" href="application-patterns.html" title="Chapter 6. Application Patterns" /><link rel="prev" href="application-patterns.html" title="Chapter 6. Application Patterns" /><link rel="next" href="blackboard.html" title="Blackboard" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Assertion Query</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="application-patterns.html">Prev</a> </td><th width="60%" align="center">Chapter 6. Application Patterns</th><td width="20%" align="right"> <a accesskey="n" href="blackboard.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="assertion-query"></a>Assertion Query</h2></div></div></div><p> 
   <span class="emphasis"><em>How can a dataset be tested for known patterns?</em></span>
  </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm1524"></a>Context</h3></div></div></div><p>There are a number of circumstances in which it is useful to test for patterns in a dataset. The most common is likely to be discovery of whether there is data available about a specific resource or from a specific vocabulary. Another very common use of pattern detection is to validate a dataset to check that it conforms to a specific structure. The latter is very common when testing the data generated by an application, e.g. during development or ongoing maintenance, or to check data received from third-party systems.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm1527"></a>Solution</h3></div></div></div><p>Use a SPARQL <code class="code">ASK</code> or <code class="code">CONSTRUCT</code> query to probe the dataset for known patterns</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm1532"></a>Example(s)</h3></div></div></div><p>The following will return true if the specified pattern is found:</p><pre class="programlisting">

#Is there any data about a specific resource?
ASK WHERE {
 &lt;http://www.example.org/person/bob&gt; ?p ?o.
}

</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm1536"></a>Discussion</h3></div></div></div><p>As described in the <a class="link" href="transformation-query.html" title="Transformation Query">Transformation Query</a> pattern, SPARQL provides a declarative syntax for certain kinds of operations on RDF graphs. The SPARQL <code class="code">ASK</code> query form is intentionally provided to support making assertions against an RDF dataset. It is therefore useful in the role of testing the output of an application (e.g. for unit testing) or acceptance testing incoming data received from a third-party.</p><p>In some cases it is useful to run a number of queries against a dataset and generate suitable warning messages if any of the assertions succeed. Instead of using an <code class="code">ASK</code> query, a <code class="code">CONSTRUCT</code> query can be used instead, allowing a simple message to be generated as output. These messages can then be used to, e.g. produce a test report from a dataset:</p><pre class="programlisting">

CONSTRUCT {
 _:msg ex:message "Every person should have a name".
} 
WHERE {
 ?person a foaf:Person;
 OPTIONAL {
   ?person foaf:name ?name.
 }
 FILTER (!bound(?name)) 
}

</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm1545"></a>Related</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="transformation-query.html" title="Transformation Query">Transformation Query</a></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm1550"></a>Further Reading</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">The <a class="ulink" href="http://isegserv.itd.rl.ac.uk/schemarama/" target="_top">Schemarama</a> testing framework uses the <code class="code">CONSTRUCT</code> variant of this pattern.</li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="application-patterns.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="application-patterns.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="blackboard.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 6. Application Patterns </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Blackboard</td></tr></table></div></body></html>